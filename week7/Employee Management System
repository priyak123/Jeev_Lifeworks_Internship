# ğŸ›¡ï¸ Spring Boot Employee Management System (Spring Security + JWT)

This project is a secured RESTful **Employee Management System** using **Spring Boot**, **Spring Security**, and a **custom JWT implementation**. It supports **role-based access control** for `ADMIN` and `USER`.

---

## ğŸš€ Features

- âœ… User Login with JWT token
- âœ… Role-based access: `ADMIN`, `USER`
- âœ… BCrypt password encoding
- âœ… REST APIs for employee operations
- âœ… MySQL database integration
- âœ… Custom exception handling

---

## ğŸ§‘â€ğŸ’» Tech Stack

- Java 8+
- Spring Boot 3.x
- Spring Security
- MySQL
- Maven
- Postman (for testing)

---

## âš™ï¸ `application.properties`

spring.application.name=employee-security
server.port=8080

spring.datasource.url=jdbc:mysql://localhost:3306/employeedb
spring.datasource.username=root
spring.datasource.password=Priya2612*
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show=true

logging.level.org.springframework.security=DEBUG

---

## ğŸ” Authentication and Authorization

| Endpoint             | Method | Access Role     | Description                     |
|---------------------|--------|-----------------|---------------------------------|
| `/api/login`        | POST   | PUBLIC          | Login and get JWT token         |
| `/api/profile`      | GET    | USER / ADMIN    | View profile info               |
| `/api/employees`    | GET    | ADMIN only      | View employee list              |
| `/api/employees`    | POST   | ADMIN only      | Add new employee                |

---

## ğŸ§ª Login Test Cases (Postman)

### âœ… Login as Admin

- **POST** `/api/login`
```json
{
  "username": "admin",
  "password": "admin123"
}
```

- âœ… Response:
```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR..."
}
```

---

### âœ… Login as User

- **POST** `/api/login`
```json
{
  "username": "user",
  "password": "user123"
}
```

- âœ… Response:
```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR..."
}
```

---

## ğŸ”‘ JWT Token Usage

Use the token received after login to access protected APIs.

- âœ… Add the following header to each secured request:

```
Authorization: Bearer <your-token>
```

---

## ğŸ“‚ Folder Structure

```
src/
 â””â”€â”€ main/
     â””â”€â”€ java/
         â””â”€â”€ com.ems.employee_security/
             â”œâ”€â”€ controller/
             â”‚   â”œâ”€â”€ AuthController.java
             â”‚   â”œâ”€â”€ EmployeeController.java
             â”‚   â””â”€â”€ ProfileController.java
             â”œâ”€â”€ dto/
             â”‚   â””â”€â”€ LoginRequest.java
             â”œâ”€â”€ exception/
             â”‚   â””â”€â”€ CustomAccessDeniedHandler.java
             â”œâ”€â”€ security/
             â”‚   â””â”€â”€ JwtFilter.java
             â””â”€â”€ util/
                 â””â”€â”€ JwtUtil.java
 resources/
 â””â”€â”€ application.properties
```

---

## ğŸš« Error Handling

| Status | Meaning                             | Cause                                      |
|--------|-------------------------------------|--------------------------------------------|
| 401    | Unauthorized                        | Invalid/missing token                      |
| 403    | Forbidden                           | Authenticated but role is not authorized   |

---

## âœ… User Credentials

| Username | Password  | Role       | Token Access to `/employees` |
|----------|-----------|------------|-------------------------------|
| `admin`  | admin123  | ROLE_ADMIN | âœ… Yes                        |
| `user`   | user123   | ROLE_USER  | âŒ No                         |

---

## ğŸ“¦ How to Run

1. Create the MySQL DB using `schema.sql`.
2. Update `application.properties` with your DB credentials.
3. Run the project using:

```bash
mvn spring-boot:run
```

4. Test with Postman using the login and JWT tokens.

---
## Author
 Priyanka P

